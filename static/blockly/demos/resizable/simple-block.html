<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <title>Simple Layout Demo</title>

    <script type="text/javascript" src="jquery-2.1.1.js"></script>
    <script type="text/javascript" src="jquery.ui-1.11.1.js"></script>
    <script type="text/javascript" src="jquery.layout-1.4.0.js"></script>

    <script type="text/javascript" src="js/complex.js"></script>

    <script type="text/javascript">

        var myLayout; // a var is required because this page utilizes: myLayout.allowOverflow() method

        function save_python() {
            //console.log("in save_python");
//            var text_to_save = document.getElementById("python_code").value;
//            var blob = new Blob([text_to_save], {type: 'text/text'});
//            console.log(blob);
//            saveAs(blob, 'pyblocks.py');
            console.log("in save_python()");
        }

        $(document).ready(function () {
            myLayout = $('body').layout({
                // enable showOverflow on west-pane so popups will overlap north pane
                west__showOverflowOnHover: true
                , west: {
                    size: '400'
                    , maxSize: '400'
                    , initClosed: true
                }
                , east: {
                    size: '33%'
                }
                , east__childOptions: {
                    center__size: '50%'
                    , south__size: '50%'
                }
                , south: {
                    initClosed: true
                }
                , north: {
                    size: '80'
                    , resizable: false
                    , slidable: false
                    , closable: false
                }
            });
        });

    </script>

    <script src="../../blockly_compressed.js"></script>
    <script src="../../blocks_compressed.js"></script>
    <script src="../../msg/js/en.js"></script>
    <style type="text/css">
        /**
         *	Basic Layout Theme
         *
         *	This theme uses the default layout class-names for all classes
         *	Add any 'custom class-names', from options: paneClass, resizerClass, togglerClass
         */

        .ui-layout-pane { /* all 'panes' */
            /*background: #FFF; */
            /*border: 1px solid #BBB;*/
            padding: 10px;
            /*overflow: auto;*/
        }

        .ui-layout-resizer { /* all 'resizer-bars' */
            background: rgba(174, 174, 174, 0.14);
        }

        .ui-layout-toggler { /* all 'toggler-buttons' */
            background: rgba(187, 187, 187, 0.26);
        }

        .ui-layout-east { /* east 'panes' */
            /*background: #FFF; */
            /*border: 1px solid #BBB;*/
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            /*overflow: auto;*/
        }

        .ui-layout-west { /* east 'panes' */
            background: #FFFFFF;
            /*border: 1px solid #BBB;*/
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            /*height: 100%;*/
            overflow: auto;
        }

        .ui-layout-center { /* east 'panes' */
            /*background: #FFF; */
            /*border: 1px solid #BBB;*/
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            /*overflow: auto;*/
        }

        .ui-layout-north { /* east 'panes' */
            /*background: #FFF; */
            /*border: 1px solid #BBB;*/
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            /*margin-top: -10px;*/
            /*overflow: auto;*/
        }

        #help {
            background: #FFFFFF;
            border: 1px solid #BBB;
            padding-top: 10px;
            padding-bottom: 10px;
            padding-left: 10px;
            padding-right: 10px;
            height: 100%;
            /*overflow: auto;*/
        }

        #head_left {
            /*background: #F0FF00;*/
            /*border: 1px solid #BBB;*/
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 10px;
            padding-right: 10px;
            /*height: 100%;*/
            /*overflow: auto;*/
        }

        #head_middle {
            background: #FFFFFF;
            /*border: 1px solid #BBB;*/
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 10px;
            padding-right: 10px;
            /*height: 100%;*/
            text-align: center;
            /*overflow: auto;*/
        }

        #head_right {
            /*background: #FF00FF;*/
            /*border: 1px solid #BBB;*/
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
            /*height: 100%;*/
            text-align: center;
            bottom: auto;
            /*margin: 0;*/
            /*margin-top: 1.45em;*/
            /*overflow: auto;*/
        }

        body > .ui-layout-west {
            background: #FFFFFF;
        }

        #panel_code {
            font-family: "Lucida Console", Monaco, monospace;
            font-size: 12pt;
            background: #FFFFFF;
            color: #000000;
            text-align: center;
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;

        }

        #panel_output {
            font-family: "Lucida Console", Monaco, monospace;
            font-size: 12pt;
            background: #000000;
            color: #FFFFFF;
            text-align: center;
            padding-top: 0px;
            padding-bottom: 0px;
            padding-left: 0px;
            padding-right: 0px;
        }
    </style>

    <style type="text/css">
        /**
         *	ALL CSS below is only for cosmetic and demo purposes
         *	Nothing here affects the appearance of the layout
         */
        body {
            font-family: "Lucida Console", Monaco, monospace;
            /*font-size: 12pt;*/
        }

        p {
            /*margin: 1em 0;*/
        }

        /*
         *	Rules below are for simulated drop-down/pop-up lists
         */
        ul {
            /* rules common to BOTH inner and outer UL */
            z-index: 100000;
            margin: 1ex 0;
            padding: 0;
            list-style: none;
            cursor: pointer;
            border: 1px solid Black;
            /* rules for outer UL only */
            width: 15ex;
            position: relative;
        }

        ul li {
            background-color: #EEE;
            padding: 0.15em 1em 0.3em 5px;
        }

        ul ul {
            display: none;
            position: absolute;
            width: 100%;
            left: -1px;
            /* Pop-Up */
            bottom: 0;
            margin: 0;
            margin-bottom: 1.55em;
        }

        .ui-layout-north ul ul {
            /* Drop-Down */
            bottom: auto;
            margin: 0;
            margin-top: 1.45em;
        }

        ul ul li {
            padding: 3px 1em 3px 5px;
        }

        ul ul li:hover {
            background-color: #FF9;
        }

        ul li:hover ul {
            display: block;
            background-color: #EEE;
        }

        #menu {
            background-color: #FFFFFF;
            color: #0000FF;
            /*border-color: #0000FF;*/
        }

        .menu_select {
            background-color: #FFFFFF;
            color: #0000FF;
            border-color: transparent;
            font-family: "Lucida Console", Monaco, monospace;
            font-size: 12pt;
        }

        table {
            height: 100%;
            width: 100%;
        }

        #blocklyArea {
            height: 99%;
            width: 99%;
        }
    </style>

</head>
<body>

<!-- manually attach allowOverflow method to pane -->
<div class="ui-layout-north" onmouseover="myLayout.allowOverflow('north')" onmouseout="myLayout.resetOverflow('this')">
    <table>
        <tr>
            <td id="head_left" style="width: 150px;">
                <img src="snappy_code.png" alt="Snappy Code" height="70">
            </td>
            <td id="head_middle">MIDDLE</td>
            <td id="head_right" style="width: 50px;">
                <ul class="menu_select">
                    <li id="menu">
                        <ul class="menu_select">
                            <li class="menu_select" onclick="discard()">Delete All</li>
                            <li class="menu_select" id="fakeload">Load Blocks</li>
                            <li class="menu_select" onclick="save()">Save Blocks</li>
                            <li class="menu_select" onclick="save_python()">Save Code</li>
                            <li class="menu_select" id="run_button">Run Code</li>
                        </ul>
                        <img src="menu_graphic.png" alt="MENU" height="20px"/> <!-- put this below so IE and FF render the same! -->
                    </li>
                </ul>
            </td>
        </tr>
    </table>
</div>

<!-- allowOverflow auto-attached by option: west__showOverflowOnHover = true -->
<div class="ui-layout-west">
    <div id="help">
        <h2>This is the west pane, closable, slidable and resizable</h2>
        <ol>
            <li>
                This is step one.
            </li>
            <li>
                This is step two.
            </li>
            <li>
                This is step three with substeps.
                <ol>
                    <li>
                        This is substep one.
                    </li>
                    <li>
                        This is substep two.
                    </li>
                </ol>
            </li>
        </ol>
        <ul>
            <li>
                <ul>
                    <li>one</li>
                    <li>two</li>
                    <li>three</li>
                    <li>four</li>
                    <li>five</li>
                </ul>
                Pop-Up <!-- put this below so IE and FF render the same! -->
            </li>
        </ul>

        <p>
            <button onclick="myLayout.close('west')">Close Me</button>
        </p>
    </div>
</div>

<div class="ui-layout-east">
    <div class="ui-layout-center" id="panel_code">
        <div id="code_panel" style="padding: 0px">
            <div>
                <h2 id="code_title" style="align: center;">Code
                    <!--<button type="button" class="btn btn-default btn-noboard btn-large" style="border: none" onclick="save_python()">-->
                        <!--<span class="glyphicon glyphicon-save-file" style="color: #0072bc;"></span>-->
                        <!--click to save python file-->
                    <!--</button>-->
                </h2>
            </div>
            <div id="code">
                <pre class="code_out prettyprint linenums" height="200px" width="200px" id="code2"></pre>
                <!--<code id="prettycode" class="prettyprint linenums"></code>-->
            </div>
        </div>
    </div>

    <div class="ui-layout-south" id="panel_output">
        <div style="padding: 0px">
            <h2 id="output_title" align="center">Output</h2>
            <!--<div id="wrapper" style="border: 5px dotted black;color: white">-->
                <!--{% module Terminal("/websocket") %}-->
            <!--</div>-->
        </div> <!-- AJL: This is extra, but DONT REMOVE IT.  Needed to handle teminal.-->
        <!-- END: Terminal Code-->
    </div>
</div>

<div class="ui-layout-center" id="blocklyArea"></div>

<div id="blocklyDiv" style="position: absolute"></div>

<xml id="toolbox" style="display: none">
    <category name="Variables" custom="VARIABLE"></category>
    <category name="Numbers">
        <block type="numbers_int"></block>
        <block type="numbers_float"></block>
        <block type="numbers_arithmetic">
            <field name="OP">ADD</field>
        </block>
        <block type="numbers_cast_int"></block>
        <block type="numbers_cast_float"></block>
        <block type="numbers_to_base"></block>
    </category>
    <category name="Strings">
<!--{#        <block type="strings_from_future_import"></block>#}-->
        <block type="strings"></block>
        <block type="strings_print_py3_commas"></block>
        <block type="strings_print_py3_commas">
            <mutation items="1"></mutation>
            <value name="ADD0">
                <block type="strings">
                    <field name="TEXT"></field>
                </block>
            </value>
        </block>
        <block type="strings_print_py3_commas">
            <mutation items="2"></mutation>
            <value name="ADD1">
                <block type="strings_end">
                    <value name="END">
                        <block type="strings_specials">
                            <field name="CHAR"></field>
                        </block>
                    </value>
                </block>
            </value>
        </block>
        <block type="strings_format_with"></block>
        <block type="strings_concatenate"></block>
        <block type="strings_split"></block>
        <block type="strings_cast_str"></block>
        <block type="strings_end">
            <value name="END">
                <block type="strings_specials">
                    <field name="CHAR"></field>
                </block>
            </value>
        </block>
        <block type="strings_specials"></block>
        <block type="strings_changeCase"></block>
        <block type="strings_find"></block>
        <block type="strings_startswith_endswith"></block>
        <block type="strings_strips"></block>
<!--{#        <block type="strings_print"></block>#}-->
<!--{#        <block type="strings_print_commas"></block>#}-->
    </category>
    <category name="Booleans">
        <block type="logic_boolean"></block>
        <block type="logic_compare"></block>
        <block type="logic_operation"></block>
        <block type="controls_if"></block>
    </category>
    <category name="Lists">
        <block type="lists_create_empty"></block>
        <block type="lists_create_with"></block>
        <block type="lists_repeat">
            <value name="NUM">
                <block type="numbers_int">
                    <field name="NUM">5</field>
                </block>
            </value>
        </block>
        <block type="lists_append"></block>
        <block type="lists_extend"></block>
        <block type="lists_insert"></block>
        <block type="lists_remove"></block>
        <block type="lists_index"></block>
        <block type="lists_count"></block>
        <block type="lists_reverse"></block>
        <block type="lists_pop"></block>
        <block type="lists_sort"></block>
        <block type="lists_repeat">
            <value name="NUM">
                <block type="numbers_int">
                    <field name="NUM">5</field>
                </block>
            </value>
        </block>
    </category>
    <category name="Tuple">
        <block type="tuple_create_empty"></block>
        <block type="tuple_create_with"></block>
        <block type="tuple_cast_to"></block>
    </category>
    <category name="Dictionary">
            <block type="py_dict_item"></block>
            <block type="dict_create_empty"></block>
            <block type="dict_create_with"></block>
            <block type="dict_methods_vki"></block>
<!--{#            <block type="dict_items"></block>#}-->
<!--{#            <block type="dict_keys"></block>#}-->
<!--{#            <block type="dict_values"></block>#}-->
            <block type="dict_value_from_key"></block>
            <block type="dict_key_value"></block>
            <block type="dict_set_key_value"></block>
            <block type="dict_del_key_value"></block>
            <block type="dict_key_in_not_in"></block>
            <block type="dict_copy"></block>
            <block type="dict_clear"></block>
        </category>
    <category name="Built-Ins">
        <block type="builtins_length"></block>
        <block type="builtins_range_with">
            <value name="ADD0">
                <block type="numbers_int">
                    <field name="NUM">0</field>
                </block>
            </value>
        </block>
        <block type="builtins_type"></block>
    </category>
    <category name="General">
        <block type="general_block_comment"></block>
        <block type="general_comment"></block>
        <block type="general_create_with">
            <value name="ADD0">
                <block type="numbers_int">
                    <field name="NUM">0</field>
                </block>
            </value>
        </block>
        <block type="general_input"></block>
    </category>
    <sep></sep>
    <category name="Conditionals">
        <block type="controls_if"></block>
        <block type="controls_if">
            <mutation else="1"></mutation>
        </block>
        <block type="controls_if">
            <mutation elseif="1" else="1"></mutation>
        </block>
    </category>
    <category name="Loops">
        <block type="loops_for_each"></block>
        <block type="loops_while"></block>
        <block type="loops_break_continue"></block>
    </category>
    <category name="Functions" custom="PROCEDURE"></category>
<!--{#    <category name="Objects" custom="OBJECTS"></category>#}-->
<!--{#    <category name="Methods" custom="METHOD"></category>#}-->
    <sep></sep>
    <category name="Libraries">
        <category name="random">
            <block type="random_int">
                <value name="FROM">
                    <block type="numbers_int">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <value name="TO">
                    <block type="numbers_int">
                        <field name="NUM">100</field>
                    </block>
                </value>
            </block>
            <block type="random_float"></block>
            <block type="random_uniform"></block>
            <block type="random_randrange"></block>
            <block type="random_choice"></block>
        </category>
        <category name="time">
            <block type="time_import"></block>
            <block type="time_sleep">
                <value name="amount_of_time">
                    <block type="numbers_float">
                        <field name="NUM">0.5</field>
                    </block>
                </value>
            </block>
        </category>
<!--{#        <category name="Fractions">#}-->
<!--{#            <block type="fractions_import"></block>#}-->
<!--{#            <block type="fractions_Fraction">#}-->
<!--{#                <value name="NUMERATOR">#}-->
<!--{#                    <block type="numbers_int">#}-->
<!--{#                        <field name="NUM">1</field>#}-->
<!--{#                    </block>#}-->
<!--{#                </value>#}-->
<!--{#                <value name="DENOMINATOR">#}-->
<!--{#                    <block type="numbers_int">#}-->
<!--{#                        <field name="NUM">1</field>#}-->
<!--{#                    </block>#}-->
<!--{#                </value>#}-->
<!--{#            </block>#}-->
<!--{#            <block type="fractions_num_denom"></block>#}-->
<!--{#            <block type="fractions_gcd">#}-->
<!--{#                <value name="FIRST">#}-->
<!--{#                    <block type="numbers_int">#}-->
<!--{#                        <field name="NUM">1</field>#}-->
<!--{#                    </block>#}-->
<!--{#                </value>#}-->
<!--{#                <value name="SECOND">#}-->
<!--{#                    <block type="numbers_int">#}-->
<!--{#                        <field name="NUM">1</field>#}-->
<!--{#                    </block>#}-->
<!--{#                </value>#}-->
<!--{#            </block>#}-->
<!--{#        </category>#}-->
        <category name="Fractions_Ed">
            <block type="fractions_import2"></block>
            <block type="fractions_Fraction">
                <value name="NUMERATOR">
                    <block type="numbers_int">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <value name="DENOMINATOR">
                    <block type="numbers_int">
                        <field name="NUM">1</field>
                    </block>
                </value>
            </block>
            <block type="fractions_num_denom"></block>
            <block type="fractions_reduce"></block>
            <block type="fractions_lcd">
                <value name="FIRST">
                    <block type="fractions_Fraction">
                        <value name="NUMERATOR">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="DENOMINATOR">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                    </block>
                </value>
                <value name="SECOND">
                    <block type="fractions_Fraction">
                        <value name="NUMERATOR">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="DENOMINATOR">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                    </block>
                </value>
            </block>
            <block type="fractions_gcd">
                <value name="FIRST">
                    <block type="numbers_int">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <value name="SECOND">
                    <block type="numbers_int">
                        <field name="NUM">1</field>
                    </block>
                </value>
            </block>
        </category>
        <category name="Turtle">
            <category name="General">
                <block type="turtle_import"></block>
                <block type="colour_picker"></block>
                <block type="variables_set">
                    <field name="VAR">t</field>
                    <value name="VALUE">
                        <block type="turtle_turtle">
                        </block>
                    </value>
                </block>
                <block type="turtle_shape"></block>
                <block type="turtle_hide_show"></block>
                <block type="turtle_done"></block>
            </category>
            <category name="Motion">
                <block type="turtle_speed">
                    <field name="SPEED">6</field>
                </block>
                <block type="turtle_move">
                    <value name="VALUE">
                        <block type="numbers_int">
                            <field name="NUM">100</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_turn">
                    <value name="VALUE">
                        <block type="numbers_int">
                            <field name="NUM">0</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_circle">
                    <value name="VALUE">
                        <block type="numbers_int">
                            <field name="NUM">50</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_dot">
                    <value name="DIAMETER">
                        <block type="numbers_int">
                            <field name="NUM">10</field>
                        </block>
                    </value>
                    <value name="COLOUR">
                        <block type="colour_picker">
                            <field name="COLOUR">#ff0000</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_stamp"></block>
                <block type="turtle_home"></block>
                <block type="turtle_position"></block>
                <block type="turtle_ondrag"></block>
                <block type="turtle_poly"></block>
            </category>
            <category name="Details">
                <block type="turtle_location"></block>
            </category>
            <category name="Pen">
                <block type="turtle_pen"></block>
                <block type="turtle_width">
                    <value name="WIDTH">
                        <block type="numbers_int" id="99">
                            <field name="NUM">5</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_fill"></block>
                <block type="turtle_pencolor">
                    <value name="COLOUR">
                        <block type="colour_picker" id="99">
                            <field name="COLOUR">#0072bc</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_fillcolor">
                    <value name="COLOUR">
                        <block type="colour_picker" id="99">
                            <field name="COLOUR">#0072bc</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_colour">
                    <value name="COLOUR">
                        <block type="colour_picker" id="99">
                            <field name="COLOUR">#0072bc</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_fill"></block>
                <block type="turtle_colour_internal"></block>
                <block type="turtle_write"></block>
                <block type="turtle_reset"></block>
            </category>
            <category name="Screen">
                <block type="variables_set">
                    <field name="VAR">screen</field>
                    <value name="VALUE">
                        <block type="turtle_screen">
                        </block>
                    </value>
                </block>
                <block type="turtle_bgcolor">
                    <value name="COLOUR">
                        <block type="colour_picker" id="99">
                            <field name="COLOUR">#cccccc</field>
                        </block>
                    </value>
                </block>
                <block type="turtle_listen"></block>
                <block type="turtle_screen_onclick"></block>
            </category>
        </category>
        <category name="Boards">
            <category name="Explorer">
                <block type="explorerhat_import"></block>
                <block type="explorerhat_analog"></block>
                <block type="explorerhat_analog_read"></block>
                <block type="explorerhat_motor"></block>

                <block type="explorerhat_motor_direction_speed">
                    <field name="DROP_DIRECTION">forward</field>
                    <value name="SPEED">
                        <block type="numbers_float">
                            <field name="NUM">50.0</field>
                        </block>
                    </value>
                </block>
                <block type="explorerhat_motor_invert"></block>
            </category>
        </category>
        <category name="GPIOZero" expanded="false">
            <category name="General" expand="false">
                <block type="gpiozero_libraries"></block>
                <block type="gpiozero_import">
                    <value name="LIB0">
                        <block type="gpiozero_libraries">
                            <field name="LIB">LED</field>
                        </block>
                    </value>
                </block>
                <block type="gpiozero_pins"></block>
            </category>
            <category name="Inputs" expanded="false">
                <category name="Button">
                    <block type="gpiozero_button"></block>
                    <block type="gpiozero_button_when_pressed"></block>
                    <block type="gpiozero_button_when_released"></block>
                    <block type="gpiozero_button_is_pressed"></block>
                    <block type="gpiozero_button_pin"></block>
                </category>
                <category name="MotionSensor">
                    <block type="gpiozero_motion"></block>
                    <block type="gpiozero_motion_when_motion_no_motion"></block>
                    <block type="gpiozero_motion_motion_detected"></block>
                    <block type="gpiozero_motion_pin"></block>
                </category>
            </category>
            <category name="Boards" expand="false">
                <category name="PiLiter" expand="false">
                    <block type="gpiozero_piliter">
                        <mutation items="3"></mutation>
                        <value name="ADD0">
                            <block type="logic_boolean">
                                <field name="BOOL">FALSE</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_piliter_blink">
                        <mutation items="6"></mutation>
                        <value name="LED">
                            <block type="variables_get">
                                <field name="VAR">lite</field>
                            </block>
                        </value>
                        <value name="ADD0">
                            <block type="numbers_float">
                                <field name="NUM">1.0</field>
                            </block>
                        </value>
                        <value name="ADD1">
                            <block type="numbers_float">
                                <field name="NUM">1.0</field>
                            </block>
                        </value>
                        <value name="ADD2">
                            <block type="numbers_float">
                                <field name="NUM">0.0</field>
                            </block>
                        </value>
                        <value name="ADD3">
                            <block type="numbers_float">
                                <field name="NUM">0.0</field>
                            </block>
                        </value>
                        <value name="ADD4">
                            <block type="numbers_int">
                                <field name="NUM">5</field>
                            </block>
                        </value>
                        <value name="ADD5">
                            <block type="logic_boolean">
                                <field name="BOOL">TRUE</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_piliter_on_off_toggle_close"></block>
                    <block type="gpiozero_piliter_on_off_out"></block>
                    <block type="gpiozero_piliter_value_in"></block>
                    <block type="gpiozero_piliter_value_out"></block>
                    <block type="gpiozero_piliter_leds"></block>
                </category>
            </category>
            <category name="Outputs" expanded="false">
                <category name="LED">
                    <block type="gpiozero_led">
                        <value name="ADD0">
                            <block type="gpiozero_pins">
                                <field name="pin_number">17</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_led_blink">
                        <mutation items="4"></mutation>
                        <value name="LED">
                            <block type="variables_get">
                                <field name="VAR">led</field>
                            </block>
                        </value>
                        <value name="ADD0">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="ADD1">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="ADD2">
                            <block type="numbers_int">
                                <field name="NUM">10</field>
                            </block>
                        </value>
                        <value name="ADD3">
                            <block type="logic_boolean">
                                <field name="BOOL">FALSE</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_led_pin"></block>
                    <block type="gpiozero_led_islit"></block>
                    <block type="gpiozero_led_on_off_out"></block>
                    <block type="gpiozero_led_value_out"></block>
                    <block type="gpiozero_led_value_in">
                        <value name="VALUE">
                            <block type="logic_boolean">
                                <field name="BOOL">False</field>
                            </block>
                        </value>
                    </block>
                </category>
                <category name="PWMLED">
                    <block type="gpiozero_led">
                        <field name="CLASS">PWMLED</field>
                        <value name="ADD0">
                            <block type="gpiozero_pins">
                                <field name="pin_number">17</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_led_on_off_toggle"></block>
                    <block type="gpiozero_led_blink">
                        <mutation items="4"></mutation>
                        <value name="LED">
                            <block type="variables_get">
                                <field name="VAR">pwmled</field>
                            </block>
                        </value>
                        <value name="ADD0">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="ADD1">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="ADD2">
                            <block type="numbers_int">
                                <field name="NUM">10</field>
                            </block>
                        </value>
                        <value name="ADD3">
                            <block type="logic_boolean">
                                <field name="BOOL">FALSE</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_led_pin"></block>
                    <block type="gpiozero_led_islit"></block>
                    <block type="gpiozero_led_on_off_out"></block>
                    <block type="gpiozero_pwmled_value_out"></block>
                    <block type="gpiozero_pwmled_value_in">
                        <value name="VALUE">
                            <block type="numbers_float">
                                <field name="NUM">0.5</field>
                            </block>
                        </value>
                    </block>
                </category>
                <category name="RGBLED">
                    <block type="gpiozero_rgbled">
                        <value name="ADD0">
                            <block type="gpiozero_pins">
                                <field name="pin_number">17</field>
                            </block>
                        </value>
                        <value name="ADD1">
                            <block type="gpiozero_pins">
                                <field name="pin_number">27</field>
                            </block>
                        </value>
                        <value name="ADD2">
                            <block type="gpiozero_pins">
                                <field name="pin_number">22</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_led_on_off_toggle"></block>

                    <block type="gpiozero_led_blink">
                        <mutation items="4"></mutation>
                        <value name="LED">
                            <block type="variables_get">
                                <field name="VAR">rgbled</field>
                            </block>
                        </value>
                        <value name="ADD0">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="ADD1">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                        <value name="ADD2">
                            <block type="numbers_int">
                                <field name="NUM">10</field>
                            </block>
                        </value>
                        <value name="ADD3">
                            <block type="logic_boolean">
                                <field name="BOOL">FALSE</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_led_rgb_out"></block>
                    <block type="gpiozero_led_rgb_in">
                        <value name="VALUE">
                            <block type="numbers_float">
                                <field name="NUM">0.50</field>
                            </block>
                        </value>
                    </block>
                    <block type="gpiozero_led_rgb_value_out"></block>
                    <block type="gpiozero_led_rgb_value_in">
                        <value name="VALUE">
                            <block type="tuple_create_with" x="-63" y="13">
                                <mutation items="3"></mutation>
                                <value name="ADD0">
                                    <block type="numbers_float">
                                        <field name="NUM">0.50</field>
                                    </block>
                                </value>
                                <value name="ADD1">
                                    <block type="numbers_float">
                                        <field name="NUM">0.50</field>
                                    </block>
                                </value>
                                <value name="ADD2">
                                    <block type="numbers_float">
                                        <field name="NUM">0.50</field>
                                    </block>
                                </value>
                            </block>
                        </value>
                    </block>
                </category>
                <category name="Motors" expanded="false">
                <category name="Stepper">
                    <block type="gpiozero_import_stepper"></block>
                    <block type="gpiozero_stepper"></block>
                    <block type="gpiozero_stepper_forward_backward">
                        <field name="OP">forward</field>
                        <value name="STEPPER">
                        </value>
                        <value name="DELAY">
                            <block type="numbers_int">
                                <field name="NUM">10</field>
                            </block>
                        </value>
                        <value name="STEPS">
                            <block type="numbers_int">
                                <field name="NUM">1</field>
                            </block>
                        </value>
                    </block>
                </category>
            </category>
            </category>
    </category>
    </category>
</xml>

<script>
    var blocklyArea = document.getElementById('blocklyArea');
    var blocklyDiv = document.getElementById('blocklyDiv');
    var workspace = Blockly.inject(blocklyDiv,
            {
                grid: {
                    spacing: 25,
                    length: 3,
                    colour: '#ccc',
                    snap: true
                },
                media: '../../media/',
                toolbox: toolbox,
                zoom: {
                    controls: true,
                    wheel: true
                }
            });

    var onresize = function (e) {
        // Compute the absolute coordinates and dimensions of blocklyArea.
        var element = blocklyArea;
        h = blocklyArea.offsetHeight + 5;
        w = blocklyArea.offsetWidth + 5;
        var x = 0;
        var y = 0;
        do {
            x += element.offsetLeft;
            y += element.offsetTop;
            element = element.offsetParent;
        } while (element);

        // Position blocklyDiv over blocklyArea.
        blocklyDiv.style.left = x + 'px';
        blocklyDiv.style.top = y + 'px';
        blocklyDiv.style.width = w + 'px';
        blocklyDiv.style.height = h + 'px';
    };
    window.addEventListener('resize', onresize, false);
    onresize();

</script>

</body>
</html>